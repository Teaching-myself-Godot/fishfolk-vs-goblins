[gd_scene load_steps=11 format=3 uid="uid://dhw0txm3hlokt"]

[ext_resource type="Texture2D" uid="uid://btj2ns3xkg8ru" path="res://title-screen.png" id="1_053dn"]
[ext_resource type="Script" path="res://scenes_2d/main_menus/scripts/title_screen.gd" id="1_o1xv6"]
[ext_resource type="FontFile" uid="uid://b8pvc0etwwo81" path="res://fonts/DeltaBlock-2Oee3.ttf" id="3_ibf3y"]
[ext_resource type="PackedScene" uid="uid://cf2ha5qruwm47" path="res://scenes_2d/main_menus/stage_select_option.tscn" id="4_kqyji"]
[ext_resource type="PackedScene" uid="uid://d1ltd4sm1gwbt" path="res://scenes_3d/stages/stage-1-1.tscn" id="5_scabv"]
[ext_resource type="PackedScene" uid="uid://doy7owgxttfij" path="res://scenes_3d/stages/stage-1-2.tscn" id="6_flai6"]
[ext_resource type="PackedScene" uid="uid://rbn2l232oav1" path="res://scenes_3d/stages/tutorial.tscn" id="6_pa17n"]
[ext_resource type="PackedScene" uid="uid://c36xdno8384jq" path="res://credits.tscn" id="8_3mpk5"]
[ext_resource type="AudioStream" uid="uid://citk7ef1oc11u" path="res://sounds/ui/on_menu_option_focus.wav" id="10_tny07"]
[ext_resource type="AudioStream" uid="uid://bxvcdvd207sba" path="res://sounds/ui/on_menu_option_select.wav" id="11_ufrbn"]

[node name="TitleScreen" type="PanelContainer"]
process_mode = 2
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_o1xv6")

[node name="StageSelectMenu" type="CenterContainer" parent="."]
layout_mode = 2
size_flags_horizontal = 4

[node name="VBoxContainer" type="VBoxContainer" parent="StageSelectMenu"]
layout_mode = 2

[node name="Splash" type="TextureRect" parent="StageSelectMenu/VBoxContainer"]
layout_mode = 2
texture = ExtResource("1_053dn")

[node name="StageSelectMenuOptions" type="HBoxContainer" parent="StageSelectMenu/VBoxContainer"]
layout_mode = 2
size_flags_horizontal = 4

[node name="Tutorial" parent="StageSelectMenu/VBoxContainer/StageSelectMenuOptions" instance=ExtResource("4_kqyji")]
layout_mode = 2
focus_neighbor_right = NodePath("../Stage 1-1")
focus_neighbor_bottom = NodePath("../../CenterContainer/CreditsButton")
focus_next = NodePath("../Stage 1-1")
text = "Tutorial  "
my_stage = ExtResource("6_pa17n")

[node name="Stage 1-1" parent="StageSelectMenu/VBoxContainer/StageSelectMenuOptions" instance=ExtResource("4_kqyji")]
layout_mode = 2
focus_neighbor_left = NodePath("../Tutorial")
focus_neighbor_right = NodePath("../Stage 1-2")
focus_neighbor_bottom = NodePath("../../CenterContainer/CreditsButton")
focus_next = NodePath("../Stage 1-2")
focus_previous = NodePath("../Tutorial")
text = "Story  "
my_stage = ExtResource("5_scabv")

[node name="Stage 1-2" parent="StageSelectMenu/VBoxContainer/StageSelectMenuOptions" instance=ExtResource("4_kqyji")]
layout_mode = 2
focus_neighbor_left = NodePath("../Stage 1-1")
focus_neighbor_bottom = NodePath("../../CenterContainer/CreditsButton")
focus_previous = NodePath("../Stage 1-1")
text = "Endless!  "
my_stage = ExtResource("6_flai6")

[node name="CenterContainer" type="CenterContainer" parent="StageSelectMenu/VBoxContainer"]
custom_minimum_size = Vector2(0, 60)
layout_mode = 2

[node name="CreditsButton" type="Button" parent="StageSelectMenu/VBoxContainer/CenterContainer"]
custom_minimum_size = Vector2(240, 40)
layout_mode = 2
focus_neighbor_top = NodePath("../../StageSelectMenuOptions/Stage 1-1")
theme_override_fonts/font = ExtResource("3_ibf3y")
text = "Credits and attributions"

[node name="Credits" parent="StageSelectMenu" instance=ExtResource("8_3mpk5")]
layout_mode = 2

[node name="OnSelectAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("10_tny07")

[node name="UnmuteTimer" type="Timer" parent="."]
wait_time = 0.25

[node name="OnConfirmAudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("11_ufrbn")

[connection signal="pressed" from="StageSelectMenu/VBoxContainer/StageSelectMenuOptions/Tutorial" to="." method="_on_stage_confirmed"]
[connection signal="select_stage" from="StageSelectMenu/VBoxContainer/StageSelectMenuOptions/Tutorial" to="." method="_on_select_stage"]
[connection signal="pressed" from="StageSelectMenu/VBoxContainer/StageSelectMenuOptions/Stage 1-1" to="." method="_on_stage_confirmed"]
[connection signal="select_stage" from="StageSelectMenu/VBoxContainer/StageSelectMenuOptions/Stage 1-1" to="." method="_on_select_stage"]
[connection signal="pressed" from="StageSelectMenu/VBoxContainer/StageSelectMenuOptions/Stage 1-2" to="." method="_on_stage_confirmed"]
[connection signal="select_stage" from="StageSelectMenu/VBoxContainer/StageSelectMenuOptions/Stage 1-2" to="." method="_on_select_stage"]
[connection signal="pressed" from="StageSelectMenu/VBoxContainer/CenterContainer/CreditsButton" to="." method="_on_credits_button_pressed"]
[connection signal="timeout" from="UnmuteTimer" to="." method="_on_unmute_timer_timeout"]
